quantile(temp.nsdl, 0.975)
temp.fs<-NULL
temp.nsdl<-NULL
temp.pl<-NULL
temp.str<-NULL
epi.data<-read.csv("~/Desktop/Testing/FigureSA2/sa1/4/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
median(temp.fs)
quantile(temp.fs, 0.025)
quantile(temp.fs, 0.975)
median(temp.nsdl)
quantile(temp.nsdl, 0.025)
quantile(temp.nsdl, 0.975)
temp.fs<-NULL
temp.nsdl<-NULL
temp.pl<-NULL
temp.str<-NULL
epi.data<-read.csv("~/Desktop/Testing/FigureSA2/sa1/6/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
median(temp.fs)
quantile(temp.fs, 0.025)
quantile(temp.fs, 0.975)
median(temp.nsdl)
quantile(temp.nsdl, 0.025)
quantile(temp.nsdl, 0.975)
temp.fs<-NULL
temp.nsdl<-NULL
temp.pl<-NULL
temp.str<-NULL
epi.data<-read.csv("~/Desktop/Testing/FigureSA2/sa1/8/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
median(temp.fs)
quantile(temp.fs, 0.025)
quantile(temp.fs, 0.975)
median(temp.nsdl)
quantile(temp.nsdl, 0.025)
quantile(temp.nsdl, 0.975)
temp.fs<-NULL
temp.nsdl<-NULL
temp.pl<-NULL
temp.str<-NULL
epi.data<-read.csv("~/Desktop/Testing/FigureSA2/sa1/10/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
median(temp.fs)
quantile(temp.fs, 0.025)
quantile(temp.fs, 0.975)
median(temp.nsdl)
quantile(temp.nsdl, 0.025)
quantile(temp.nsdl, 0.975)
temp.fs<-NULL
temp.nsdl<-NULL
temp.pl<-NULL
temp.str<-NULL
epi.data<-read.csv("~/Desktop/Testing/FigureSA2/sa1/12/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
median(temp.fs)
quantile(temp.fs, 0.025)
quantile(temp.fs, 0.975)
median(temp.nsdl)
quantile(temp.nsdl, 0.025)
quantile(temp.nsdl, 0.975)
temp.fs<-NULL
temp.nsdl<-NULL
temp.pl<-NULL
temp.str<-NULL
epi.data<-read.csv("~/Desktop/Testing/FigureSA2/sa1/14/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
median(temp.fs)
quantile(temp.fs, 0.025)
quantile(temp.fs, 0.975)
median(temp.nsdl)
quantile(temp.nsdl, 0.025)
quantile(temp.nsdl, 0.975)
temp.fs<-NULL
temp.nsdl<-NULL
temp.pl<-NULL
temp.str<-NULL
epi.data<-read.csv("~/Desktop/Testing/FigureSA2/sa1/16/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
median(temp.fs)
quantile(temp.fs, 0.025)
quantile(temp.fs, 0.975)
median(temp.nsdl)
quantile(temp.nsdl, 0.025)
quantile(temp.nsdl, 0.975)
library(ggplot2)
library(ggpubr)
library(latex2exp)
scaling.parm<-500
temp.fs<-NULL
temp.nsdl<-NULL
temp.thresh<-NULL
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/14/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("2",length(epi.data$FinSize)))
scaling.parm<-500
temp.fs<-NULL
temp.nsdl<-NULL
temp.thresh<-NULL
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/14/out.csv")
scaling.parm<-500
temp.fs<-NULL
temp.nsdl<-NULL
temp.thresh<-NULL
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/14/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("2",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/16/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("5",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/18/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("10",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/20/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("20",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/22/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("50",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/24/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("100",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/26/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("1000",length(epi.data$FinSize)))
data.R2.ReaS<-data.frame("SummaryMeasure"=c(rep("FinalSize",length(temp.fs)),rep("SchoolDaysLost",length(temp.nsdl))), "Value"=c(temp.fs,temp.nsdl/scaling.parm), "Threshold"=rep(temp.thresh,2))
data.R2ReaS$Threshold<-factor(data.R2ReaS$Threshold, levels = c("2","5","10" ,"20","50","100","1000"))
data.R2.ReaS<-data.frame("SummaryMeasure"=c(rep("FinalSize",length(temp.fs)),rep("SchoolDaysLost",length(temp.nsdl))), "Value"=c(temp.fs,temp.nsdl/scaling.parm), "Threshold"=rep(temp.thresh,2))
data.R2.ReaS$Threshold<-factor(data.R2.ReaS$Threshold, levels = c("2","5","10" ,"20","50","100","1000"))
ggplot(data = data.R2ReaS, aes(x=Threshold, fill=SummaryMeasure,y=Value))+geom_boxplot()+scale_fill_brewer(palette="Dark2", labels=c(" Attack Rate","NSDL") )+stat_summary(fun.y=mean, geom="point", shape=c(17,15,17,15,17,15,17,15,17,15,17,15,17,15), size=3, color=rep(c("royalblue","gold"),7), fill="black", aes(group=SummaryMeasure),position=position_dodge(.75)) +theme(
panel.background = element_rect(fill = "white",
colour = "gray",
size = 0.75, linetype = "solid"),
panel.grid.major = element_line(size = 0.25, linetype = 'solid',
colour = "gray"),
panel.grid.minor = element_line(size = 0.5, linetype = 'solid',
colour = "white"),
legend.key.size = unit(1, "cm"),
legend.key.width = unit(1,"cm"),
legend.background = element_rect(fill = "white"),
legend.key = element_rect(fill = "white", color = NA),
legend.text = element_text(size=14),
#legend.position = "top",
#legend.position = "top",
legend.title = element_text(size=15, face = "bold"),
axis.text.x = element_text(size=14, angle = 45, vjust = 0.5, hjust = 0.5),
axis.title = element_text(size=15),
axis.text.y = element_text(size=14),
strip.text = element_text(size = 15)
)+ylab(("Attack Rate"))+xlab("School Closure Threshold")+scale_y_continuous(sec.axis = sec_axis(~.*scaling.parm, name = "NSDL"))+labs(fill="Model Outcome")+scale_x_discrete(labels = c("2","5","10","20","50","100","No Threshold"))
ggplot(data = data.R2.ReaS, aes(x=Threshold, fill=SummaryMeasure,y=Value))+geom_boxplot()+scale_fill_brewer(palette="Dark2", labels=c(" Attack Rate","NSDL") )+stat_summary(fun.y=mean, geom="point", shape=c(17,15,17,15,17,15,17,15,17,15,17,15,17,15), size=3, color=rep(c("royalblue","gold"),7), fill="black", aes(group=SummaryMeasure),position=position_dodge(.75)) +theme(
panel.background = element_rect(fill = "white",
colour = "gray",
size = 0.75, linetype = "solid"),
panel.grid.major = element_line(size = 0.25, linetype = 'solid',
colour = "gray"),
panel.grid.minor = element_line(size = 0.5, linetype = 'solid',
colour = "white"),
legend.key.size = unit(1, "cm"),
legend.key.width = unit(1,"cm"),
legend.background = element_rect(fill = "white"),
legend.key = element_rect(fill = "white", color = NA),
legend.text = element_text(size=14),
#legend.position = "top",
#legend.position = "top",
legend.title = element_text(size=15, face = "bold"),
axis.text.x = element_text(size=14, angle = 45, vjust = 0.5, hjust = 0.5),
axis.title = element_text(size=15),
axis.text.y = element_text(size=14),
strip.text = element_text(size = 15)
)+ylab(("Attack Rate"))+xlab("School Closure Threshold")+scale_y_continuous(sec.axis = sec_axis(~.*scaling.parm, name = "NSDL"))+labs(fill="Model Outcome")+scale_x_discrete(labels = c("2","5","10","20","50","100","No Threshold"))
scaling.parm<-500
temp.fs<-NULL
temp.nsdl<-NULL
temp.thresh<-NULL
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/0/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("2",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/2/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("5",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/4/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("10",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/6/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("20",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/8/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("50",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/10/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("100",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/FigureR2/sa8/12/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("1000",length(epi.data$FinSize)))
data.R2.SI<-data.frame("SummaryMeasure"=c(rep("FinalSize",length(temp.fs)),rep("SchoolDaysLost",length(temp.nsdl))), "Value"=c(temp.fs,temp.nsdl/scaling.parm), "Threshold"=rep(temp.thresh,2))
data.R2.SI$Threshold<-factor(data.R2.SI$Threshold, levels = c("2","5","10" ,"20","50","100","1000"))
ggplot(data = data.R2.SI, aes(x=Threshold, fill=SummaryMeasure,y=Value))+geom_boxplot()+scale_fill_brewer(palette="Dark2", labels=c(" Attack Rate","NSDL") )+stat_summary(fun.y=mean, geom="point", shape=c(17,15,17,15,17,15,17,15,17,15,17,15,17,15), size=3, color=rep(c("royalblue","gold"),7), fill="black", aes(group=SummaryMeasure),position=position_dodge(.75)) +theme(
panel.background = element_rect(fill = "white",
colour = "gray",
size = 0.75, linetype = "solid"),
panel.grid.major = element_line(size = 0.25, linetype = 'solid',
colour = "gray"),
panel.grid.minor = element_line(size = 0.5, linetype = 'solid',
colour = "white"),
legend.key.size = unit(1, "cm"),
legend.key.width = unit(1,"cm"),
legend.background = element_rect(fill = "white"),
legend.key = element_rect(fill = "white", color = NA),
legend.text = element_text(size=14),
#legend.position = "top",
#legend.position = "top",
legend.title = element_text(size=15, face = "bold"),
axis.text.x = element_text(size=14, angle = 45, vjust = 0.5, hjust = 0.5),
axis.title = element_text(size=15),
axis.text.y = element_text(size=14),
strip.text = element_text(size = 15)
)+ylab(("Attack Rate"))+xlab("School Closure Threshold")+scale_y_continuous(sec.axis = sec_axis(~.*scaling.parm, name = "NSDL"))+labs(fill="Model Outcome")+scale_x_discrete(labels = c("2","5","10","20","50","100","No Threshold"))
# Figure 3B (Wuhan Vs Delta twice vs single testing)
temp.fs<-NULL
temp.nsdl<-NULL
temp.nt<-NULL
epi.data<-read.csv("~/Desktop/Testing/Figure3/5-8/sa7/16/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.nt<-c(temp.strategy,rep("1",length(epi.data$FinSize)))
# Figure 3B (Wuhan Vs Delta twice vs single testing)
temp.fs<-NULL
temp.nsdl<-NULL
temp.nt<-NULL
epi.data<-read.csv("~/Desktop/Testing/Figure3/5-8/sa7/16/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.nt<-c(temp.nt,rep("1",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/Figure3/5-8/sa7/40/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.nt<-c(temp.nt,rep("1",length(epi.data$FinSize)))
scaling.parm<-300
data.ntD<-data.frame("Label"=c(rep("FinalSize",length(temp.fs)),rep("SchoolDaysLost",length(temp.nsdl))), "Value"=c(temp.fs,temp.nsdl/scaling.parm), "Number of Tests per Week"=c(rep(temp.strategy,2)))
scaling.parm2<-300
data.ntD<-data.frame("Label"=c(rep("FinalSize",length(temp.fs)),rep("SchoolDaysLost",length(temp.nsdl))), "Value"=c(temp.fs,temp.nsdl/scaling.parm), "Number of Tests per Week"=c(rep(temp.nt,2)))
scaling.parm2<-300
temp.fs<-NULL
temp.nsdl<-NULL
temp.nt<-NULL
epi.data<-read.csv("~/Desktop/Testing/Figure3/5-2.5/sa7/16/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.nt<-c(temp.nt,rep("1",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/Figure3/5-2.5/sa7/40/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.nt<-c(temp.nt,rep("1",length(epi.data$FinSize)))
data.ntW<-data.frame("Label"=c(rep("FinalSize",length(temp.fs)),rep("SchoolDaysLost",length(temp.nsdl))), "Value"=c(temp.fs,temp.nsdl/scaling.parm2), "Strategy"=c(rep(temp.nt,2)))
data.overall$Scenario<-factor(data.overall$Seeds, levels = c("Wuhan","Delta"))
data.overall<-data.frame("Seeds"=c(rep("Wuhan",length(data.ntW$Label)),rep("Delta",length(data.ntD$Label))), "SummaryMeasure"=c(as.character(data.ntW$Label), as.character(data.ntD$Label)), "Value"=c(data.ntW$Value,data.ntD$Value), "Strategy"=c(as.character(data.ntW$Strategy),as.character(data.ntD$Strategy))     )
data.overall$Scenario<-factor(data.overall$Seeds, levels = c("Wuhan","Delta"))
# Figure 3B (Wuhan Vs Delta twice vs single testing)
temp.fs<-NULL
temp.nsdl<-NULL
temp.nt<-NULL
epi.data<-read.csv("~/Desktop/Testing/Figure3/5-8/sa7/16/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.nt<-c(temp.nt,rep("1",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/Figure3/5-8/sa7/40/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.nt<-c(temp.nt,rep("2",length(epi.data$FinSize)))
scaling.parm<-300
data.ntD<-data.frame("Label"=c(rep("FinalSize",length(temp.fs)),rep("SchoolDaysLost",length(temp.nsdl))), "Value"=c(temp.fs,temp.nsdl/scaling.parm), "Number of Tests per Week"=c(rep(temp.nt,2)))
scaling.parm2<-300
temp.fs<-NULL
temp.nsdl<-NULL
temp.nt<-NULL
epi.data<-read.csv("~/Desktop/Testing/Figure3/5-2.5/sa7/16/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.nt<-c(temp.nt,rep("1",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/Figure3/5-2.5/sa7/40/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.nt<-c(temp.nt,rep("2",length(epi.data$FinSize)))
data.ntW<-data.frame("Label"=c(rep("FinalSize",length(temp.fs)),rep("SchoolDaysLost",length(temp.nsdl))), "Value"=c(temp.fs,temp.nsdl/scaling.parm2), "Strategy"=c(rep(temp.nt,2)))
data.overall<-data.frame("Seeds"=c(rep("Wuhan",length(data.ntW$Label)),rep("Delta",length(data.ntD$Label))), "SummaryMeasure"=c(as.character(data.ntW$Label), as.character(data.ntD$Label)), "Value"=c(data.ntW$Value,data.ntD$Value), "Strategy"=c(as.character(data.ntW$Strategy),as.character(data.ntD$Strategy))     )
data.overall$Scenario<-factor(data.overall$Seeds, levels = c("Wuhan","Delta"))
data.overall$Strategy<-factor(data.overall$Strategy, levels = c("1","2"))
ggplot(data = data.overall, aes(x=Strategy, fill=SummaryMeasure,y=Value))+geom_boxplot()+scale_fill_brewer(palette="Dark2", labels=c(" Attack Rate","NSDL") )+stat_summary(fun.y=mean, geom="point", shape=c(17,15,17,15,17,15,17,15), size=3, color=rep(c("royalblue","gold"),4), fill="black", aes(group=SummaryMeasure),position=position_dodge(.75)) +theme(
panel.background = element_rect(fill = "white",
colour = "gray",
size = 0.75, linetype = "solid"),
panel.grid.major = element_line(size = 0.25, linetype = 'solid',
colour = "gray"),
panel.grid.minor = element_line(size = 0.5, linetype = 'solid',
colour = "white"),
legend.key.size = unit(1, "cm"),
legend.key.width = unit(1,"cm"),
legend.background = element_rect(fill = "white"),
legend.key = element_rect(fill = "white", color = NA),
legend.text = element_text(size=14),
legend.position = "top",
#legend.position = "top",
legend.title = element_text(size=15, face = "bold"),
axis.text.x = element_text(size=14, angle = 45, vjust = 0.5, hjust = 0.5),
axis.title = element_text(size=15),
axis.text.y = element_text(size=14),
strip.text = element_text(size = 15)
)+ylab(("Attack Rate"))+xlab("Testing Strategy")+scale_y_continuous(sec.axis = sec_axis(~.*scaling.parm, name = "NSDL"))+facet_wrap( ~ Scenario, scales = "fixed")+scale_x_discrete(labels=c("1","2"))+labs(fill="Model Outcome")
ggplot(data = data.overall, aes(x=Strategy, fill=SummaryMeasure,y=Value))+geom_boxplot()+scale_fill_brewer(palette="Dark2", labels=c(" Attack Rate","NSDL") )+stat_summary(fun.y=mean, geom="point", shape=c(17,15,17,15,17,15,17,15), size=3, color=rep(c("royalblue","gold"),4), fill="black", aes(group=SummaryMeasure),position=position_dodge(.75)) +theme(
panel.background = element_rect(fill = "white",
colour = "gray",
size = 0.75, linetype = "solid"),
panel.grid.major = element_line(size = 0.25, linetype = 'solid',
colour = "gray"),
panel.grid.minor = element_line(size = 0.5, linetype = 'solid',
colour = "white"),
legend.key.size = unit(1, "cm"),
legend.key.width = unit(1,"cm"),
legend.background = element_rect(fill = "white"),
legend.key = element_rect(fill = "white", color = NA),
legend.text = element_text(size=14),
legend.position = "top",
#legend.position = "top",
legend.title = element_text(size=15, face = "bold"),
axis.text.x = element_text(size=14, angle = 45, vjust = 0.5, hjust = 0.5),
axis.title = element_text(size=15),
axis.text.y = element_text(size=14),
strip.text = element_text(size = 15)
)+ylab(("Attack Rate"))+xlab("Number of Test per Week")+scale_y_continuous(sec.axis = sec_axis(~.*scaling.parm, name = "NSDL"))+facet_wrap( ~ Scenario, scales = "fixed")+scale_x_discrete(labels=c("1","2"))+labs(fill="Model Outcome")
ggplot(data = data.overall, aes(x=Strategy, fill=SummaryMeasure,y=Value))+geom_boxplot()+scale_fill_brewer(palette="Dark2", labels=c(" Attack Rate","NSDL") )+stat_summary(fun.y=mean, geom="point", shape=c(17,15,17,15,17,15,17,15), size=3, color=rep(c("royalblue","gold"),4), fill="black", aes(group=SummaryMeasure),position=position_dodge(.75)) +theme(
panel.background = element_rect(fill = "white",
colour = "gray",
size = 0.75, linetype = "solid"),
panel.grid.major = element_line(size = 0.25, linetype = 'solid',
colour = "gray"),
panel.grid.minor = element_line(size = 0.5, linetype = 'solid',
colour = "white"),
legend.key.size = unit(1, "cm"),
legend.key.width = unit(1,"cm"),
legend.background = element_rect(fill = "white"),
legend.key = element_rect(fill = "white", color = NA),
legend.text = element_text(size=14),
legend.position = "top",
#legend.position = "top",
legend.title = element_text(size=15, face = "bold"),
axis.text.x = element_text(size=14, angle = 45, vjust = 0.5, hjust = 0.5),
axis.title = element_text(size=15),
axis.text.y = element_text(size=14),
strip.text = element_text(size = 15)
)+ylab(("Attack Rate"))+xlab("Number of Test Per Week")+scale_y_continuous(sec.axis = sec_axis(~.*scaling.parm, name = "NSDL"))+facet_wrap( ~ Scenario, scales = "fixed")+scale_x_discrete(labels=c("1","2"))+labs(fill="Model Outcome")
#FIGURE 3
scaling.parm<-30
temp.fs<-NULL
temp.nsdl<-NULL
temp.test<-NULL
#FIGURE 3
scaling.parm<-30
temp.fs<-NULL
temp.nsdl<-NULL
temp.test<-NULL
epi.data<-read.csv("~/Desktop/Testing/Figure3/5-8/sa6/22/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.test<-c(temp.test,rep("1",length(epi.data$FinSize)))
#FIGURE 3
scaling.parm<-30
temp.fs<-NULL
temp.nsdl<-NULL
temp.test<-NULL
epi.data<-read.csv("~/Desktop/Testing/Figure3/5-8/sa6/22/out.csv")
epi.data<-read.csv("~/Desktop/Testing/Figure3/5-8/sa7/22/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.test<-c(temp.test,rep("1",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/Figure3/5-8/sa7/46/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.test<-c(temp.test,rep("2",length(epi.data$FinSize)))
data.58SA7<-data.frame("SummaryMeasure"=c(rep("FinalSize",length(temp.fs)),rep("SchoolDaysLost",length(temp.nsdl))), "Value"=c(temp.fs,temp.nsdl/scaling.parm), "NTest"=rep(temp.test,2))
ggplot(data = data.58SA7, aes(x=NTest, fill=SummaryMeasure,y=Value))+geom_boxplot()+scale_fill_brewer(palette="Dark2", labels=c(" Attack Rate","NSDL") )+stat_summary(fun.y=mean, geom="point", shape=c(17,15,17,15), size=3, color=rep(c("royalblue","gold"),2), fill="black", aes(group=SummaryMeasure),position=position_dodge(.75)) +theme(
panel.background = element_rect(fill = "white",
colour = "gray",
size = 0.75, linetype = "solid"),
panel.grid.major = element_line(size = 0.25, linetype = 'solid',
colour = "gray"),
panel.grid.minor = element_line(size = 0.5, linetype = 'solid',
colour = "white"),
legend.key.size = unit(1, "cm"),
legend.key.width = unit(1,"cm"),
legend.background = element_rect(fill = "white"),
legend.key = element_rect(fill = "white", color = NA),
legend.text = element_text(size=14),
#legend.position = "top",
#legend.position = "top",
legend.title = element_text(size=15, face = "bold"),
axis.text.x = element_text(size=14, angle = 45, vjust = 0.5, hjust = 0.5),
axis.title = element_text(size=15),
axis.text.y = element_text(size=14),
strip.text = element_text(size = 15)
)+ylab(("Attack Rate"))+xlab("Number of Tests Per Week")+scale_y_continuous(sec.axis = sec_axis(~.*scaling.parm, name = "NSDL"))+labs(fill="Model Outcome")
events<-data.frame("NextCtc"=Inf, "HomeQuarantine"=Inf, "Recovery"=Inf, "NewPathogen"=Inf, "NewSeeding1"=Inf, "NewSeeding2"=Inf )
status.matrix.1<- data.frame(infected          = rep(0,n), # 1
time.of.infection = NA,        # 2
infector          = NA,        # 3
severity          = 0,         # 4 1 Symptomatic 2 Asymptomatic
TimeSymptomOnset  = Inf,       # 5
Immunity          = 0,         # 0 no immunity, 1 vaccinated
Recovery          = Inf)
n<-10
status.matrix.1<- data.frame(infected          = rep(0,n), # 1
time.of.infection = NA,        # 2
infector          = NA,        # 3
severity          = 0,         # 4 1 Symptomatic 2 Asymptomatic
TimeSymptomOnset  = Inf,       # 5
Immunity          = 0,         # 0 no immunity, 1 vaccinated
Recovery          = Inf)
status.matrix.2 <-status.matrix.1
setwd("~/Documents/Work/PhD/Co-infection/Multi-phatogen")
#FIGURE 2
scaling.parm<-100
temp.fs<-NULL
temp.nsdl<-NULL
temp.thresh<-NULL
epi.data<-read.csv("~/Desktop/Testing/Figure2/sa6/20/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("2",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/Figure2/sa6/22/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("4",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/Figure2/sa6/24/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("6",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/Figure2/sa6/26/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("8",length(epi.data$FinSize)))
epi.data<-read.csv("~/Desktop/Testing/Figure2/sa6/28/out.csv")
temp.fs<-c(temp.fs,epi.data$FinSizeProp)
temp.nsdl<-c(temp.nsdl,epi.data$n.schooldayslost)
temp.thresh<-c(temp.thresh,rep("1000",length(epi.data$FinSize)))
data.58SA6<-data.frame("SummaryMeasure"=c(rep("FinalSize",length(temp.fs)),rep("SchoolDaysLost",length(temp.nsdl))), "Value"=c(temp.fs ,temp.nsdl/scaling.parm), "Threshold"=c(as.character(temp.thresh),as.character(temp.thresh))   )
data.58SA6$Threshold<-factor(data.58SA6$Threshold, levels = c("2","4","6","8","1000"))
ggplot(data = data.58SA6, aes(x=Threshold, fill=SummaryMeasure,y=Value))+geom_boxplot()+scale_fill_brewer(palette="Dark2", labels=c(" Attack Rate","NSDL") )+stat_summary(fun.y=mean, geom="point", shape=c(17,15,17,15,17,15,17,15,17,15), size=3, color=rep(c("royalblue","gold"),5), fill="black", aes(group=SummaryMeasure),position=position_dodge(.75)) +theme(
panel.background = element_rect(fill = "white",
colour = "gray",
size = 0.75, linetype = "solid"),
panel.grid.major = element_line(size = 0.25, linetype = 'solid',
colour = "gray"),
panel.grid.minor = element_line(size = 0.5, linetype = 'solid',
colour = "white"),
legend.key.size = unit(1, "cm"),
legend.key.width = unit(1,"cm"),
legend.background = element_rect(fill = "white"),
legend.key = element_rect(fill = "white", color = NA),
legend.text = element_text(size=14),
#legend.position = "top",
#legend.position = "top",
legend.title = element_text(size=15, face = "bold"),
axis.text.x = element_text(size=14, angle = 45, vjust = 0.5, hjust = 0.5),
axis.title = element_text(size=15),
axis.text.y = element_text(size=14),
strip.text = element_text(size = 15)
)+ylab(("Attack Rate"))+xlab("Class Closure Threshold")+scale_y_continuous(sec.axis = sec_axis(~.*scaling.parm, name = "NSDL"))+labs(fill="Model Outcome")+scale_x_discrete(labels = c("2","4","6","8","No Threshold"))
library(ggplot2)
ggplot(data = data.58SA6, aes(x=Threshold, fill=SummaryMeasure,y=Value))+geom_boxplot()+scale_fill_brewer(palette="Dark2", labels=c(" Attack Rate","NSDL") )+stat_summary(fun.y=mean, geom="point", shape=c(17,15,17,15,17,15,17,15,17,15), size=3, color=rep(c("royalblue","gold"),5), fill="black", aes(group=SummaryMeasure),position=position_dodge(.75)) +theme(
panel.background = element_rect(fill = "white",
colour = "gray",
size = 0.75, linetype = "solid"),
panel.grid.major = element_line(size = 0.25, linetype = 'solid',
colour = "gray"),
panel.grid.minor = element_line(size = 0.5, linetype = 'solid',
colour = "white"),
legend.key.size = unit(1, "cm"),
legend.key.width = unit(1,"cm"),
legend.background = element_rect(fill = "white"),
legend.key = element_rect(fill = "white", color = NA),
legend.text = element_text(size=14),
#legend.position = "top",
#legend.position = "top",
legend.title = element_text(size=15, face = "bold"),
axis.text.x = element_text(size=14, angle = 45, vjust = 0.5, hjust = 0.5),
axis.title = element_text(size=15),
axis.text.y = element_text(size=14),
strip.text = element_text(size = 15)
)+ylab(("Attack Rate"))+xlab("Class Closure Threshold")+scale_y_continuous(sec.axis = sec_axis(~.*scaling.parm, name = "NSDL"))+labs(fill="Model Outcome")+scale_x_discrete(labels = c("2","4","6","8","No Threshold"))
